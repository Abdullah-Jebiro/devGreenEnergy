import{a as ne}from"./chunk-7JG4BIKR.js";import{d as ze,e as We}from"./chunk-AXPFAJA2.js";import{a as W}from"./chunk-2Q5GMZLP.js";import{a as xt}from"./chunk-3Z2KSGKD.js";import{$a as Ue,Ba as Ee,Db as Xe,Ea as G,Eb as Ye,Gb as Ze,Gc as z,Ha as Y,Ib as et,Ja as x,Jb as tt,La as Z,Ma as ke,N as Oe,Ra as Ve,Rb as nt,Sa as Fe,Sb as it,Ta as Ne,Tb as ot,Ub as at,Va as qe,Vb as rt,W as Ie,Wa as Be,Wb as lt,Xa as je,Xb as st,Ya as Le,Yb as ct,Za as $e,Zb as dt,_b as mt,ac as ut,b as ye,bb as Ge,cb as H,dc as pt,eb as He,fa as $,ha as X,hc as ee,ic as ft,jc as gt,ka as De,kc as _t,lc as te,m as Pe,o as Te,ob as Qe,oc as Ct,pc as ht,qc as vt,rb as fe,rc as St,sb as Je,tb as Ke,xa as U}from"./chunk-QYZWJ7ML.js";import{$b as _,Ac as ve,Bc as Se,Bd as Re,Ea as C,Ec as de,Fa as h,Fb as g,Hb as d,Mc as xe,Sb as c,Tb as s,Ub as w,Vb as q,Wb as B,Xb as E,Yb as k,a as F,bc as f,bd as me,dd as K,ed as L,fc as M,fd as be,hc as oe,hd as Me,ib as l,ic as ae,ja as Ce,jb as b,jc as re,mc as I,nc as m,oa as ie,oc as S,pc as R,qc as le,rc as se,sc as ce,ta as N,tc as he,uc as j,ud as Ae,vd as we,wc as y,xc as V,yd as ue,zd as pe}from"./chunk-WSHGJWKC.js";var P=function(n){return n.All="all",n.WithoutStationsAccess="without-stations-access",n.WithoutTransformers="without-transformers",n.OnlyTransformers="only-transformers",n}(P||{});var Q=(()=>{let r=class r{constructor(e,i){this.http=e,this.customServices=i,this.stationURL=`${fe.apiUrl}/Stations`,this.URL=`${fe.apiUrl}/StationMonitors`}getStationMonitors(e,i){return this.customServices.getRequests(`${this.URL}?StationId=${e}&Date=${i}`)}getStation(e){return this.customServices.getRequests(`${this.stationURL}?Category=${e}`)}deleteMonitor(e){return this.customServices.deleteRequest("")}getFormData(e){return this.customServices.getRequests(`${this.URL}/data/${e}`)}addStationMonitor(e){return this.customServices.postRequest(this.URL,e)}};r.\u0275fac=function(i){return new(i||r)(ie(ye),ie(Xe))},r.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function Vt(n,r){if(n&1&&(c(0,"mat-option",6),m(1),s()),n&2){let a=r.$implicit;d("value",a),l(),R(" ",a.title," ")}}var Rt=(()=>{let r=class r{onStationChange(e){this.id=e.value.id,console.log(this.id)}constructor(e,i,t,o,u,p){this.dialogRef=e,this.data=i,this.stationMonitorService=t,this.snackBarService=o,this.dialog=u,this.router=p,this.id=0,this.stations=[]}confirmChooseStation(){this.router.navigate(["/station-monitor/create",this.id]),this.dialogRef.close(!1)}ngOnInit(){this.stations=this.data.stations,console.log(this.stations)}onCancel(){this.dialogRef.close(!1)}};r.\u0275fac=function(i){return new(i||r)(b(gt),b(_t),b(Q),b(W),b(te),b(Te))},r.\u0275cmp=N({type:r,selectors:[["app-choose-station"]],standalone:!0,features:[j],decls:11,vars:2,consts:[[1,"station-drop-down","style-header"],["appearance","fill",1,"add-station-select"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click","disabled"],[3,"value"]],template:function(i,t){i&1&&(c(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),m(3,"\u0627\u062E\u062A\u0631 \u0645\u062D\u0637\u0629"),s(),c(4,"mat-select",2),_("selectionChange",function(u){return t.onStationChange(u)}),g(5,Vt,2,2,"mat-option",3),s()()(),c(6,"mat-dialog-actions")(7,"button",4),_("click",function(){return t.onCancel()}),m(8,"\u0625\u0644\u063A\u0627\u0621"),s(),c(9,"button",5),_("click",function(){return t.confirmChooseStation()}),m(10,"\u0645\u0648\u0627\u0641\u0642"),s()()),i&2&&(l(5),d("ngForOf",t.stations),l(4),d("disabled",t.id===0))},dependencies:[z,L,G,U,X,Ct,H,$],styles:[".station-drop-down[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:16px}.station-drop-down[_ngcontent-%COMP%]   .add-station-select[_ngcontent-%COMP%]{width:100%;max-width:300px}.station-drop-down[_ngcontent-%COMP%]   .add-station-select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.station-drop-down[_ngcontent-%COMP%]   .add-station-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{text-align:right}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}"]});let n=r;return n})();var Nt=["goUp"],Pt=n=>({disabled:n});function qt(n,r){if(n&1&&(c(0,"mat-option",17),m(1),s()),n&2){let a=r.$implicit;d("value",a),l(),R(" ",a.title," ")}}function Bt(n,r){if(n&1&&(c(0,"th",38),m(1),ve(2,"translate"),s()),n&2){let a=f().$implicit;l(),R(" ",Se(2,1,a)," ")}}function jt(n,r){if(n&1&&(c(0,"td",39),m(1),s()),n&2){let a=r.$implicit,e=f().$implicit;l(),R(" ",a[e]," ")}}function Lt(n,r){if(n&1&&(q(0)(1,35),g(2,Bt,3,3,"th",36)(3,jt,2,1,"td",37),B()()),n&2){let a=r.$implicit;l(),d("matColumnDef",a)}}function $t(n,r){n&1&&w(0,"tr",40)}function Ut(n,r){n&1&&w(0,"tr",41)}function Gt(n,r){if(n&1&&(c(0,"div",42)(1,"span",43),m(2),s(),c(3,"span",44),m(4),s()()),n&2){let a=r.$implicit;l(2),S(a.name),l(2),S(a.value)}}function Ht(n,r){if(n&1&&(c(0,"div",42)(1,"span",43),m(2),s(),c(3,"span",44),m(4),s()()),n&2){let a=r.$implicit;l(2),S(a.name),l(2),S(a.value)}}var Tt=(()=>{let r=class r{constructor(e,i,t,o,u){this.liveAnnouncer=e,this.stationMonitorProviderService=i,this.snackBarService=t,this.dialog=o,this.cd=u,this.stationMonitor=[],this.stations=[],this.dateTime=new Date,this.totalReactivePower=0,this.accessCellSums=[],this.stationAmpereSums=[],this.stationId=0,this.isSelectedStation=!1,this.isLoading=!1,this.dataSource=new ut([]),this.displayedColumns=[],this.displayDynamicColumns=[],this.displayMode=P.All,this.displayModes=P,this.subscriptions=[]}ngOnInit(){this.loadStations()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadStations(){let e=this.stationMonitorProviderService.getStation(xt.Stations).subscribe(i=>{this.stations=i});this.subscriptions.push(e)}loadData(e,i){this.isLoading=!0;let t=this.stationMonitorProviderService.getStationMonitors(e,i).subscribe(o=>{Array.isArray(o)&&o.length>0?(this.processMonitorData(o),this.updateDisplayedColumns()):(this.stationMonitor=[],this.dataSource.data=[],this.updateDisplayedColumns(),this.snackBarService.showSuccess("No data available for the selected station and date.")),this.isLoading=!1,this.cd.detectChanges()},o=>{this.isLoading=!1,this.snackBarService.showSuccess("Failed to load data. Please try again.")});this.subscriptions.push(t)}processMonitorData(e){let i=t=>t?me(t,"HH","en-GB"):"";this.stationMonitor=e.map(t=>({entryDate:i(t.entryDate),monitorId:t.monitorId,lowVoltage:t.lowVoltage,highVoltage:t.highVoltage,reactivePower:t.reactivePower,stationRelationRecords:t.stationRelationRecordDtos?.map(o=>({station:o.station,ampere:o.ampere}))||[],stationAccessCellRecords:t.stationAccessCellDtos?.map(o=>({accessCellNumber:o.accessCellNumber,accessCellValue:o.accessCellValue}))||[],transformerRecords:t.transformerMonitoringDtos?.map(o=>({transformer:o.transformer,ampere:o.ampere}))||[],isExpanded:!1})),this.totalReactivePower=this.calculateTotalReactivePower(e),this.accessCellSums=this.getAccessData(this.stationMonitor),this.stationAmpereSums=this.getStationAmpereData(this.stationMonitor)}updateDisplayedColumns(){let e=this.getUniqueStations(),i=this.getUniqueAccessCells(),t=this.getUniqueTransformers();switch(this.displayMode){case P.All:this.displayDynamicColumns=[...e,...i,...t];break;case P.OnlyTransformers:this.displayDynamicColumns=t;break;case P.WithoutStationsAccess:this.displayDynamicColumns=[...e,...t];break;case P.WithoutTransformers:this.displayDynamicColumns=[...e,...i];break}this.displayedColumns=["entryDate",...this.displayMode===P.OnlyTransformers?this.displayDynamicColumns:["lowVoltage","highVoltage","reactivePower",...this.displayDynamicColumns]],this.displayedColumns=Array.from(new Set(this.displayedColumns));let o=this.stationMonitor.map(u=>F(F({},u),this.getRecordData(u,e,i,t)));this.dataSource.data=o,this.dataSource.sort=this.sort}getUniqueStations(){return Array.from(new Set(this.stationMonitor.flatMap(e=>e.stationRelationRecords?.map(i=>i.station?.toString())||[])))}getUniqueAccessCells(){return Array.from(new Set(this.stationMonitor.flatMap(e=>e.stationAccessCellRecords?.map(i=>i.accessCellNumber?.toString())||[])))}getUniqueTransformers(){return Array.from(new Set(this.stationMonitor.flatMap(e=>e.transformerRecords?.map(i=>i.transformer?.toString())||[])))}getRecordData(e,i,t,o){let u=i.reduce((A,T)=>{let O=e.stationRelationRecords?.find(J=>J.station===T);return A[T]=O?O.ampere?.toString():"",A},{}),p=t.reduce((A,T)=>{let O=e.stationAccessCellRecords?.find(J=>J.accessCellNumber?.toString()===T);return A[T]=O?O.accessCellValue?.toString():"",A},{}),v=o.reduce((A,T)=>{let O=e.transformerRecords?.find(J=>J.transformer?.toString()===T);return A[T]=O?O.ampere?.toString():"",A},{});return F(F(F({},u),p),v)}onStationChange(e){this.isSelectedStation=!0,this.stationId=e.value.id,this.fetchData()}announceSortChange(e){let i=e.direction?`Sorted ${e.direction}ending`:"Sorting cleared";this.liveAnnouncer.announce(i)}fetchData(){this.loadData(this.stationId,this.formatDateSpecial(this.dateTime?.toString()))}onDateChange(e){this.isSelectedStation&&e&&e.value?(this.dateTime=new Date(e.value),this.fetchData()):console.error("Invalid date value from event")}getNextDay(){this.dateTime instanceof Date&&!isNaN(this.dateTime.getTime())?(this.dateTime=this.addDays(1,this.dateTime),this.fetchData(),this.scrollToCard()):(console.error("Invalid dateTime value:",this.dateTime),this.snackBarService.showSuccess("Error: Invalid date value."))}getPreviousDay(){this.dateTime instanceof Date&&!isNaN(this.dateTime.getTime())?(this.dateTime=this.addDays(-1,this.dateTime),this.fetchData(),this.scrollToCard()):(console.error("Invalid dateTime value:",this.dateTime),this.snackBarService.showSuccess("Error: Invalid date value."))}addDays(e,i){let t=new Date(i);return t.setDate(t.getDate()+e),t}formatDateSpecial(e){return me(e,"yyyy-MM-dd","en-GB")}calculateTotalReactivePower(e){return e.reduce((i,t)=>i+(t.reactivePower||0),0)}scrollToCard(){let e=document.getElementById("goUp");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}getAccessData(e){if(!e||e.length===0)return[];let i=e.reduce((o,u)=>(u.stationAccessCellRecords?.forEach(p=>{let v=`\u062E\u0644\u064A\u0629 ${p.accessCellNumber}`;o[v]=(o[v]||0)+p.accessCellValue}),o),{});return Object.entries(i).map(([o,u])=>({name:o,value:u}))}getStationAmpereData(e){let i=e.reduce((o,u)=>(u.stationRelationRecords?.forEach(p=>{o[p.station]=(o[p.station]||0)+p.ampere}),o),{});return Object.entries(i).map(([o,u])=>({name:o,value:u}))}chooseStation(){console.log("choosing station",this.stations);let e=this.dialog.open(Rt,{data:{stations:this.stations},width:"350px",disableClose:!0,height:"300px"})}};r.\u0275fac=function(i){return new(i||r)(b(Oe),b(Q),b(W),b(te),b(xe))},r.\u0275cmp=N({type:r,selectors:[["app-station-monitor-table"]],viewQuery:function(i,t){if(i&1&&(oe(ee,5),oe(Nt,5)),i&2){let o;ae(o=re())&&(t.sort=o.first),ae(o=re())&&(t.goUpCard=o.first)}},standalone:!0,features:[he([{provide:Ie,useValue:"en-GB"}]),j],decls:66,vars:25,consts:[["inputDateTime",""],["picker",""],["id","goUp"],[1,"header-content"],[1,"details-table"],[1,"station-drop-down","style-header"],["appearance","fill",1,"add-station-select"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-input","style-header"],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[1,"btn-get-data"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"btn-add-data"],["mat-icon-button","","color","accent",3,"click"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"tables-container"],[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z8",2,"border-radius","10px",3,"matSortChange","dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","","style","background-color: #194659; color: white;",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"footer-btn"],["matTooltip","\u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u0633\u0627\u0628\u0642","mat-button","",1,"prev-btn",3,"click","disabled","ngClass"],["matTooltip","\u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062A\u0627\u0644\u064A","mat-button","",1,"next-btn",3,"click","disabled","ngClass"],[1,"footer-content"],[1,"total-reactive-power"],[1,"value"],[1,"footer-section"],[1,"section-title"],[1,"section-items"],["class","footer-item",4,"ngFor","ngForOf"],[3,"isLoading"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",2,"background-color","#194659","color","white"],["mat-row",""],[1,"footer-item"],[1,"item-name"],[1,"item-value"]],template:function(i,t){if(i&1){let o=k();c(0,"mat-card",2)(1,"mat-card-header")(2,"div",3),w(3,"div",4),c(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),m(7,"\u0627\u062E\u062A\u0631 \u0645\u062D\u0637\u0629"),s(),c(8,"mat-select",7),_("selectionChange",function(p){return C(o),h(t.onStationChange(p))}),g(9,qt,2,2,"mat-option",8),s()()(),c(10,"div",9)(11,"mat-form-field")(12,"mat-label"),m(13,"\u0627\u062E\u062A\u0631 \u062A\u0627\u0631\u064A\u062E"),s(),c(14,"input",10,0),ce("ngModelChange",function(p){return C(o),se(t.dateTime,p)||(t.dateTime=p),h(p)}),_("dateChange",function(){C(o);let p=I(15);return h(t.onDateChange(p.value))}),s(),w(16,"mat-datepicker-toggle",11)(17,"mat-datepicker",null,1),s()(),c(19,"div",12)(20,"button",13),_("click",function(){return C(o),h(t.fetchData())}),m(21," \u062A\u062D\u062F\u064A\u062B "),s()()()(),c(22,"div",14)(23,"button",15),_("click",function(){return C(o),h(t.chooseStation())}),c(24,"mat-icon"),m(25,"add"),s()(),c(26,"div")(27,"mat-radio-group",16),ce("ngModelChange",function(p){return C(o),se(t.displayMode,p)||(t.displayMode=p),h(p)}),c(28,"mat-radio-button",17),m(29,"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"),s(),c(30,"mat-radio-button",17),m(31,"\u0628\u062F\u0648\u0646 \u0645\u062D\u0648\u0644\u0627\u062A"),s(),c(32,"mat-radio-button",17),m(33,"\u0645\u062D\u0648\u0644\u0627\u062A \u0641\u0642\u0637"),s()()()(),c(34,"mat-card-content")(35,"div",18)(36,"div",19)(37,"table",20),_("matSortChange",function(p){return C(o),h(t.announceSortChange(p))}),g(38,Lt,4,1,"ng-container",21)(39,$t,1,0,"tr",22)(40,Ut,1,0,"tr",23),s()()(),c(41,"div",24)(42,"button",25),_("click",function(){return C(o),h(t.getPreviousDay())}),c(43,"mat-icon"),m(44,"arrow_forward"),s()(),c(45,"button",26),_("click",function(){return C(o),h(t.getNextDay())}),c(46,"mat-icon"),m(47,"arrow_back"),s()()()(),c(48,"mat-card-footer")(49,"div",27)(50,"div",28)(51,"span"),m(52,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0637\u0627\u0642\u0629 \u0627\u0644\u0636\u0627\u0626\u0639\u0629:"),s(),c(53,"span",29),m(54),s()(),c(55,"div",30)(56,"div",31),m(57,"\u0645\u062C\u0645\u0648\u0639 \u0642\u064A\u0645\u0629 \u062E\u0644\u0627\u064A\u0627 \u0627\u0644\u0648\u0635\u0648\u0644:"),s(),c(58,"div",32),g(59,Gt,5,2,"div",33),s()(),c(60,"div",30)(61,"div",31),m(62,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062A\u0623\u062B\u064A\u0631\u0627\u062A \u0644\u0643\u0644 \u062E\u0637:"),s(),c(63,"div",32),g(64,Ht,5,2,"div",33),s()()()(),w(65,"app-loading-spinner",34),s()}if(i&2){let o=I(18);l(9),d("ngForOf",t.stations),l(5),d("matDatepicker",o),le("ngModel",t.dateTime),l(2),d("for",o),l(4),d("disabled",!t.isSelectedStation),l(7),le("ngModel",t.displayMode),l(),d("value",t.displayModes.All),l(2),d("value",t.displayModes.WithoutTransformers),l(2),d("value",t.displayModes.OnlyTransformers),l(5),d("dataSource",t.dataSource),l(),d("ngForOf",t.displayedColumns),l(),d("matHeaderRowDef",t.displayedColumns),l(),d("matRowDefColumns",t.displayedColumns),l(2),d("disabled",!t.isSelectedStation)("ngClass",y(21,Pt,!t.isSelectedStation)),l(3),d("disabled",!t.isSelectedStation)("ngClass",y(23,Pt,!t.isSelectedStation)),l(9),S(t.totalReactivePower),l(5),d("ngForOf",t.accessCellSums),l(5),d("ngForOf",t.stationAmpereSums),l(),d("isLoading",t.isLoading)}},dependencies:[z,K,L,pt,G,U,Ee,nt,ot,st,at,it,ct,rt,lt,dt,mt,ee,ft,X,De,He,Ye,Ze,tt,et,Qe,Y,Z,Ve,ht,vt,St,H,$,Je,Ke,We,ze,ne],styles:[".header-content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.style-header[_ngcontent-%COMP%], .btn-get-data[_ngcontent-%COMP%]{margin-top:10px}.btn-add-data[_ngcontent-%COMP%]{margin-top:20px;padding:16px}.btn-add-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:8px;transition:transform .3s ease,box-shadow .3s ease}.btn-add-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #0003}.btn-add-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:5px}.btn-transforms-data[_ngcontent-%COMP%]{background-color:transparent;border:none}.btn-transforms-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;font-size:18px}.footer-btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px}.footer-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px;display:flex;align-items:center;transition:background-color .3s}.footer-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.footer-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.footer-btn[_ngcontent-%COMP%]   button.prev-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;width:100%;margin-top:-5px}.footer-btn[_ngcontent-%COMP%]   button.next-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;width:100%;margin-top:-5px}.footer-btn[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{background-color:#e1dfe4}mat-card-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;background-color:#f8f8f8;border-top:1px solid #ddd}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .total-reactive-power[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;border:1px solid #ddd;border-radius:4px;background-color:#fff;font-weight:700;font-size:1.2em;margin-bottom:16px;width:30%}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .total-reactive-power[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:center;margin-left:8px;font-size:1.2em}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;flex-direction:column}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;font-size:1.1em}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:8px;border:1px solid #ddd;border-radius:4px;background-color:#fff;width:150px;justify-content:space-between}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:700;color:#333}mat-card-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{color:#555}.mat-mdc-header-cell.mat-column-action[_ngcontent-%COMP%]{text-align:center}td.mat-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-delete-data[_ngcontent-%COMP%]{color:#f44336;margin-right:5px}.btn-delete-data[_ngcontent-%COMP%]:hover{background-color:#f443361a}.btn-transforms-data[_ngcontent-%COMP%]{margin-right:8px}.btn-delete-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.tables-container[_ngcontent-%COMP%]   .expanded-detail[_ngcontent-%COMP%]{padding:16px;font-size:14px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:100%}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:100%}"],data:{animation:[Ae("detailExpand",[pe("collapsed",ue({height:"0px",minHeight:"0"})),pe("expanded",ue({height:"*"})),Re("expanded <=> collapsed",we("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}});let n=r;return n})();var D=n=>({"is-invalid":n}),Ot=(n,r)=>({formArray:n,index:r,field:"ampere"}),zt=(n,r)=>({formArray:n,index:r,field:"accessCellValue"}),Wt=(n,r)=>({formArray:n,index:r,field:"voltage22kV"}),Qt=(n,r)=>({formArray:n,index:r,field:"accessCellId"}),Jt=(n,r)=>({formArray:n,index:r,field:"reactivePower"});function Kt(n,r){n&1&&E(0)}function Xt(n,r){if(n&1){let a=k();c(0,"div",17)(1,"label"),m(2),s(),w(3,"input",18),c(4,"div",8)(5,"label",19),m(6,"\u0627\u0644\u0623\u0645\u0628\u064A\u0631"),s(),c(7,"input",20),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.stationRelationRecords,"ampere"))}),s(),g(8,Kt,1,0,"ng-container",21),s()()}if(n&2){let a=r.index,e=f(2),i=I(27);d("formGroupName",a),l(2),S(e.stationRecords[a].title||"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),l(3),M("for","ampere-station-",a,""),l(2),M("id","ampere-station-",a,""),d("ngClass",y(9,D,e.isFieldInvalid(e.stationRelationRecords,a,"ampere"))),l(),d("ngTemplateOutlet",i)("ngTemplateOutletContext",V(11,Ot,e.stationRelationRecords,a))}}function Yt(n,r){if(n&1&&(q(0),c(1,"div",15)(2,"h3",5),m(3,"\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0637\u0627\u062A"),s(),g(4,Xt,9,14,"div",16),s(),B()),n&2){let a=f();l(4),d("ngForOf",a.stationRelationRecords.controls)("ngForTrackBy",a.trackByIndex)}}function Zt(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(2);l(),S(a.validationMessage.min)}}function en(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(2);l(),R(" ",a.validationMessage.required,"")}}function tn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(2);l(),S(a.validationMessage.pattern)}}function nn(n,r){if(n&1&&(c(0,"div"),g(1,Zt,2,1,"small",22)(2,en,2,1,"small",22)(3,tn,2,1,"small",22),s()),n&2){let a,e,i,t=f();l(),d("ngIf",(a=t.form.get("voltage60kV"))==null?null:a.hasError("min")),l(),d("ngIf",(e=t.form.get("voltage60kV"))==null?null:e.hasError("required")),l(),d("ngIf",(i=t.form.get("voltage60kV"))==null?null:i.hasError("pattern"))}}function on(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(2);l(),S(a.validationMessage.required)}}function an(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(2);l(),S(a.validationMessage.pattern)}}function rn(n,r){if(n&1&&(c(0,"div"),g(1,on,2,1,"small",22)(2,an,2,1,"small",22),s()),n&2){let a,e,i=f();l(),d("ngIf",(a=i.form.get("reactivePower"))==null?null:a.hasError("required")),l(),d("ngIf",(e=i.form.get("reactivePower"))==null?null:e.hasError("pattern"))}}function ln(n,r){n&1&&E(0)}function sn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.min)}}function cn(n,r){n&1&&E(0)}function dn(n,r){if(n&1){let a=k();c(0,"div",17)(1,"div",25)(2,"div",26)(3,"label")(4,"input",27),_("change",function(i){let t=C(a).index,o=f(2);return h(o.onCheckboxChange(t,i))}),s(),m(5),s()(),w(6,"input",28),c(7,"div",29)(8,"div",7)(9,"label",30),m(10,"\u0627\u0644\u0642\u064A\u0645\u0629"),s(),c(11,"input",31),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.stationAccessCell,"accessCellValue"))}),s(),g(12,ln,1,0,"ng-container",21),s(),c(13,"div",7)(14,"label",30),m(15,"\u0627\u0644\u062C\u0647\u062F"),s(),c(16,"input",32),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.stationAccessCell,"voltage22kV"))}),s(),g(17,sn,2,1,"small",22)(18,cn,1,0,"ng-container",21),s()()()()}if(n&2){let a,e,i,t,o,u=r.$implicit,p=r.index,v=f(2),A=I(27);d("formGroupName",p),l(4),d("checked",!0),l(),R(" \u062E\u0644\u064A\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0631\u0642\u0645 ",u.value.accessCellNumber," "),l(4),M("for","accessCellValue-",(a=u.get("accessCellNumber"))==null?null:a.value,""),l(2),M("id","accessCellValue-",(e=u.get("accessCellNumber"))==null?null:e.value,""),d("disabled",v.isDisabled(p))("ngClass",y(20,D,v.isFieldInvalid(v.stationAccessCell,p,"accessCellValue"))),l(),d("ngTemplateOutlet",A)("ngTemplateOutletContext",V(22,zt,v.stationAccessCell,p)),l(2),M("for","voltage22kV-",(i=u.get("accessCellNumber"))==null?null:i.value,""),l(2),M("id","voltage22kV-",(t=u.get("accessCellNumber"))==null?null:t.value,""),d("disabled",v.isDisabled(p))("ngClass",y(25,D,v.isFieldInvalid(v.stationAccessCell,p,"voltage22kV"))),l(),d("ngIf",(o=v.stationAccessCell.at(p).get("voltage22kV"))==null?null:o.hasError("min")),l(),d("ngTemplateOutlet",A)("ngTemplateOutletContext",V(27,Wt,v.stationAccessCell,p))}}function mn(n,r){if(n&1&&(q(0),c(1,"div",24)(2,"h3"),m(3,"\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0627\u064A\u0627"),s(),g(4,dn,19,30,"div",16),s(),B()),n&2){let a=f();l(4),d("ngForOf",a.stationAccessCell.controls)("ngForTrackBy",a.trackByIndex)}}function un(n,r){if(n&1&&(c(0,"mat-option",40),m(1),s()),n&2){let a=r.$implicit;d("value",a.accessCellId),l(),R(" ",a.accessCellNumber," ")}}function pn(n,r){n&1&&E(0)}function fn(n,r){n&1&&E(0)}function gn(n,r){n&1&&E(0)}function _n(n,r){if(n&1){let a=k();c(0,"div",17)(1,"label"),m(2),s(),w(3,"input",18),c(4,"div",34)(5,"div",35)(6,"mat-form-field",36)(7,"mat-label"),m(8,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062E\u0644\u064A\u0629"),s(),c(9,"mat-select",37),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.transformerRelationRecords,"accessCellId"))})("selectionChange",function(i){let t=C(a).index,o=f(2);return h(o.onSelectionChange(i,t))}),g(10,un,2,2,"mat-option",38),s()(),g(11,pn,1,0,"ng-container",21),s(),c(12,"div",7)(13,"label",19),m(14,"\u0627\u0644\u0623\u0645\u0628\u064A\u0631"),s(),c(15,"input",20),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.transformerRelationRecords,"ampere"))}),s(),g(16,fn,1,0,"ng-container",21),s(),c(17,"div",35)(18,"label",19),m(19,"\u0627\u0644\u0642\u062F\u0631\u0629 \u0627\u0644\u062A\u0641\u0627\u0639\u0644\u064A\u0629"),s(),c(20,"input",39),_("click",function(){let i=C(a).index,t=f(2);return h(t.clearValue(i,t.transformerRelationRecords,"reactivePower"))}),s(),g(21,gn,1,0,"ng-container",21),s()()()}if(n&2){let a=r.index,e=f(2),i=I(27),t=I(29);d("formGroupName",a),l(2),S(e.transformerRecords[a].title||"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),l(7),M("id","accessCellNumber-",a,""),d("ngClass",y(22,D,e.isFieldInvalid(e.transformerRelationRecords,a,"accessCellId"))),l(),d("ngForOf",e.accessCellsRecordData),l(),d("ngTemplateOutlet",t)("ngTemplateOutletContext",V(24,Qt,e.transformerRelationRecords,a)),l(2),M("for","ampere-transformer-",a,""),l(2),M("id","ampere-transformer-",a,""),d("ngClass",y(27,D,e.isFieldInvalid(e.transformerRelationRecords,a,"ampere"))),l(),d("ngTemplateOutlet",i)("ngTemplateOutletContext",V(29,Ot,e.transformerRelationRecords,a)),l(2),M("for","reactivePower-",a,""),l(2),M("id","reactivePower-",a,""),d("ngClass",y(32,D,e.isFieldInvalid(e.transformerRelationRecords,a,"reactivePower"))),l(),d("ngTemplateOutlet",i)("ngTemplateOutletContext",V(34,Jt,e.transformerRelationRecords,a))}}function Cn(n,r){if(n&1&&(q(0),c(1,"div",33)(2,"h3"),m(3,"\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0645\u062D\u0648\u0644\u0627\u062A"),s(),g(4,_n,22,37,"div",16),s(),B()),n&2){let a=f();l(4),d("ngForOf",a.transformerRelationRecords.controls)("ngForTrackBy",a.trackByIndex)}}function hn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.required)}}function vn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.pattern)}}function Sn(n,r){if(n&1&&(c(0,"div",42),g(1,hn,2,1,"small",22)(2,vn,2,1,"small",22),s()),n&2){let a=f(),e=a.formArray,i=a.index,t=a.field,o=f();l(),d("ngIf",o.hasFieldError(e,i,t,"required")),l(),d("ngIf",o.hasFieldError(e,i,t,"pattern"))}}function xn(n,r){if(n&1&&g(0,Sn,3,2,"div",41),n&2){let a=r.formArray,e=r.index,i=r.field,t=f();d("ngIf",t.isFieldInvalid(a,e,i))}}function bn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.required)}}function Mn(n,r){if(n&1&&(c(0,"small",23),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.pattern)}}function yn(n,r){if(n&1&&(c(0,"small",44),m(1),s()),n&2){let a=f(3);l(),S(a.validationMessage.rangeError)}}function An(n,r){if(n&1&&(c(0,"div",42),g(1,bn,2,1,"small",22)(2,Mn,2,1,"small",22)(3,yn,2,1,"small",43),s()),n&2){let a=f(),e=a.formArray,i=a.index,t=a.field,o=f();l(),d("ngIf",o.hasFieldError(e,i,t,"required")),l(),d("ngIf",o.hasFieldError(e,i,t,"pattern")),l(),d("ngIf",o.hasFieldError(e,i,t,"rangeError"))}}function wn(n,r){if(n&1&&g(0,An,4,3,"div",41),n&2){let a=r.formArray,e=r.index,i=r.field,t=f();d("ngIf",t.isFieldInvalid(a,e,i))}}var It=(()=>{let r=class r{constructor(e,i,t,o){this.stationMonitorService=e,this.snackBarService=i,this.route=t,this.fb=o,this.validationMessage={required:"\u064A\u062C\u0628 \u0625\u062F\u062E\u0627\u0644 \u0642\u064A\u0645\u0629.",min:"\u0627\u0644\u062C\u0647\u062F \u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0633\u0627\u0644\u0628 \u0623\u0648 \u0635\u0641\u0631.",pattern:"\u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0627\u0644\u0642\u064A\u0645\u0629 \u0639\u062F\u062F\u064B\u0627 \u0635\u062D\u064A\u062D\u064B\u0627 \u0623\u0648 \u0639\u062F\u062F\u064B\u0627 \u0639\u0634\u0631\u064A\u064B\u0627.",rangeError:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0631\u0642\u0645 \u0627\u0644\u062E\u0644\u064A\u0629 \u0645\u0637\u0627\u0628\u0642\u064B\u0627 \u0644\u0631\u0642\u0645 \u0623\u062D\u062F \u0627\u0644\u062E\u0644\u0627\u064A\u0627.",twoDecimalNumbers:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0631\u0642\u0645\u064B\u0627 \u0635\u062D\u064A\u062D\u064B\u0627 \u0645\u0639 \u062E\u0627\u0646\u062A\u064A\u0646 \u0639\u0634\u0631\u064A\u062A\u064A\u0646 \u0643\u062D\u062F \u0623\u0642\u0635\u0649."},this.disabledIndexes=new Set,this.singleActiveIndex=0,this.activeAccessCellNumber=[],this.isLoading=!1,this.stationRecords=[],this.transformerRecords=[],this.accessCellsRecordData=[],this.firstAccessCellNumber=0,this.form=this.fb.group({stationRelationRecords:this.fb.array([]),transformerRelationRecords:this.fb.array([]),stationAccessCell:this.fb.array([]),voltage60kV:[null,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/),x.min(1)]],reactivePower:[null,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/)]]})}ngOnInit(){this.isLoading=!0,this.stationId=Number(this.route.snapshot.paramMap.get("id")),this.loadFormPostData()}loadFormPostData(){this.stationMonitorService.getFormData(this.stationId).subscribe({next:e=>{this.stationFormData=e,this.entryDate=this.stationFormData.entryDate,this.stationFormData.stationRecordData.length>0&&(this.stationRecords=this.stationFormData.stationRecordData,this.addStationRelationRecords()),this.stationFormData.accessCellsRecordData.length>0&&(this.accessCellsRecordData=this.stationFormData.accessCellsRecordData,this.addStationAccessCells()),this.stationFormData.transformerRecordData.length>0&&(this.transformerRecords=this.stationFormData.transformerRecordData,this.addTransformerRelationRecords()),this.isLoading=!1},error:e=>{let i=`\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627 
 ${e.error}`;this.isLoading=!1,this.snackBarService.showError(i)}})}get stationRelationRecords(){return this.form.get("stationRelationRecords")}get transformerRelationRecords(){return this.form.get("transformerRelationRecords")}get stationAccessCell(){return this.form.get("stationAccessCell")}addStationAccessCells(){this.accessCellsRecordData.forEach(e=>{this.stationAccessCell.push(this.fb.group({accessCellId:[e.accessCellId],accessCellNumber:[e.accessCellNumber],voltage22kV:[0,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/),x.min(1)]],accessCellValue:[0,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/)]]}))})}addStationRelationRecords(){this.stationRecords.forEach(e=>{this.stationRelationRecords.push(this.fb.group({stationRelationId:[e.stationRelationId],ampere:[0,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/)]]}))})}addTransformerRelationRecords(){this.transformerRecords.forEach(e=>{let i=this.accessCellsRecordData.length>0?this.accessCellsRecordData[0].accessCellId:null,t=this.accessCellsRecordData.length>0?this.accessCellsRecordData[0].accessCellNumber:null;this.transformerRelationRecords.push(this.fb.group({stationRelationId:[e.stationRelationId],ampere:[0,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/)]],reactivePower:[0,[x.required,x.pattern(/^\d+(\.\d{1,2})?$/)]],accessCellId:[i,[x.required,x.pattern(/^\d+$/)]],firstAccessCellNumber:[t]}))})}onSelectionChange(e,i){let t=this.transformerRelationRecords.at(i);e.value!==t.get("firstAccessCellNumber")?.value&&t.patchValue({firstAccessCellNumber:null})}trackByIndex(e,i){return e}clearValue(e,i,t){let o=i?.at(e)?.get(t);if(o){let u=o;u.firstClick||(o.setValue(""),o.markAsTouched(),u.firstClick=!0)}}onCheckboxChange(e,i){i.target.checked?(this.disabledIndexes.delete(e),this.activeAccessCellNumber.push(e)):(this.disabledIndexes.add(e),this.activeAccessCellNumber=this.activeAccessCellNumber.filter(o=>o!==e),this.stationAccessCell.at(e).get("accessCellValue")?.setValue(0),this.stationAccessCell.at(e).get("voltage22kV")?.setValue(0)),this.updateAccessCellNumber()}isDisabled(e){return this.disabledIndexes.has(e)}updateAccessCellNumber(){this.activeAccessCellNumber.length===1?this.singleActiveIndex=this.activeAccessCellNumber[0]+1:this.singleActiveIndex=0,this.transformerRelationRecords.controls.forEach((e,i)=>{e.get("accessCellNumber")?.setValue(this.singleActiveIndex)})}onSubmit(){if(this.form.valid){let e=this.stationAccessCell.value.map(o=>({accessCellId:o.accessCellId,accessCellValue:o.accessCellValue,voltage22kV:o.voltage22kV})),i=this.transformerRelationRecords.value.map(o=>({stationRelationId:o.stationRelationId,ampere:o.ampere,reactivePower:o.reactivePower,accessCellId:o.accessCellId})),t={stationId:this.stationId,createTransformerRecords:i,createStationAccessCells:e,createStationRecord:{voltage60kV:this.form.get("voltage60kV")?.value,reactivePower:this.form.get("reactivePower")?.value},createStationRelationRecords:this.stationRelationRecords.value};console.log(t),this.stationMonitorService.addStationMonitor(t).subscribe({next:o=>{console.log(o)},error:o=>{console.error("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0631\u0633\u0627\u0644:",o),this.snackBarService.showError(` ${o}`)},complete:()=>{this.snackBarService.showSuccess("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.loadFormPostData()}})}else this.snackBarService.showError("\u0647\u0646\u0627\u0643 \u062E\u0637\u0623 \u0641\u064A \u0623\u062D\u062F \u0642\u064A\u0645 \u0627\u0644\u062D\u0642\u0648\u0644 ")}setDefaultValue(){this.transformerRelationRecords.controls.forEach((e,i)=>{e.get("ampere")?.setValue(0),e.get("reactivePower")?.setValue(0)}),this.stationRelationRecords.controls.forEach((e,i)=>{e.get("ampere")?.setValue(0)}),this.stationAccessCell.controls.forEach((e,i)=>{e.get("voltage22kV")?.setValue(0),e.get("accessCellValue")?.setValue(0)}),this.form.get("voltage60kV")?.setValue(null),this.form.get("reactivePower")?.setValue(null)}isFieldInvalid(e,i,t){let o=e.at(i).get(t);return o?o.invalid&&o.touched:!1}hasFieldError(e,i,t,o){let u=e.at(i).get(t);return u?u.hasError(o):!1}};r.\u0275fac=function(i){return new(i||r)(b(Q),b(W),b(Pe),b(Ue))},r.\u0275cmp=N({type:r,selectors:[["selected-station-add"]],standalone:!0,features:[j],decls:31,vars:14,consts:[["requiredAndTwoDecimalNumbersError",""],["validationErrors",""],[1,"container"],[3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"title-section"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","voltage60kV"],["id","voltage60kV","formControlName","voltage60kV","type","number","step","0.01","required","",1,"form-control",3,"focus","ngClass"],["for","reactivePower"],["id","reactivePower","formControlName","reactivePower","type","number","step","0.01","required","",1,"form-control",3,"focus","ngClass"],["type","submit",1,"btn","btn-primary"],[3,"isLoading"],["formArrayName","stationRelationRecords"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-group",3,"formGroupName"],["formControlName","stationRelationId","type","hidden"],[3,"for"],["formControlName","ampere","type","number","step","0.01",1,"form-control",3,"click","id","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["formArrayName","stationAccessCell"],[1,"form-group","row","align-items-center"],[1,"col-md-12"],["type","checkbox",3,"change","checked"],["formControlName","accessCellId","type","hidden"],[1,"row","mb-3"],[1,"form-label",3,"for"],["formControlName","accessCellValue","type","number","step","0.01",1,"form-control",3,"click","id","disabled","ngClass"],["formControlName","voltage22kV","type","number","step","0.01",1,"form-control",3,"click","id","disabled","ngClass"],["formArrayName","transformerRelationRecords"],[1,"form-group","row"],[1,"col-md-3"],["appearance","outline",2,"margin-top","23px","background-color","rgb(255, 255, 255)"],["formControlName","accessCellId",3,"click","selectionChange","id","ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","reactivePower","type","number","step","0.01",1,"form-control",3,"click","id","ngClass"],[3,"value"],["class","validate",4,"ngIf"],[1,"validate"],["class","text-danger d-block",4,"ngIf"],[1,"text-danger","d-block"]],template:function(i,t){if(i&1){let o=k();c(0,"div",2)(1,"h1"),m(2),s(),c(3,"h2"),m(4,"\u0625\u062F\u062E\u0627\u0644 \u0633\u062C\u0644\u0627\u062A \u0627\u0644\u0639\u0644\u0627\u0642\u0627\u062A \u0628\u064A\u0646 \u0627\u0644\u0645\u062D\u0637\u0627\u062A"),s(),c(5,"form",3),_("ngSubmit",function(){return C(o),h(t.onSubmit())}),g(6,Yt,5,2,"ng-container",4),c(7,"h3",5),m(8,"\u0627\u0644\u062C\u0647\u062F \u0648\u0627\u0644\u0637\u0627\u0642\u0629 \u0627\u0644\u0636\u0627\u0626\u0639\u0629"),s(),c(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),m(13,"\u0627\u0644\u062C\u0647\u062F \u0627\u0644\u0639\u0627\u0644\u064A"),s(),c(14,"input",10),_("focus",function(){let p;return C(o),h((p=t.form.get("voltage60kV"))==null?null:p.markAsTouched())}),s(),g(15,nn,4,3,"div",4),s()(),c(16,"div",7)(17,"div",8)(18,"label",11),m(19,"\u0627\u0644\u0642\u062F\u0631\u0629 \u0627\u0644\u062A\u0641\u0627\u0639\u0644\u064A\u0629"),s(),c(20,"input",12),_("focus",function(){let p;return C(o),h((p=t.form.get("reactivePower"))==null?null:p.markAsTouched())}),s(),g(21,rn,3,2,"div",4),s()()(),g(22,mn,5,2,"ng-container",4)(23,Cn,5,2,"ng-container",4),c(24,"button",13),m(25,"\u062D\u0641\u0638"),s()()(),g(26,xn,1,1,"ng-template",null,0,de)(28,wn,1,1,"ng-template",null,1,de),w(30,"app-loading-spinner",14)}if(i&2){let o,u,p,v;l(2),S(t.entryDate),l(3),d("formGroup",t.form),l(),d("ngIf",t.stationRecords.length>0),l(8),d("ngClass",y(10,D,((o=t.form.get("voltage60kV"))==null?null:o.invalid)&&(((o=t.form.get("voltage60kV"))==null?null:o.dirty)||((o=t.form.get("voltage60kV"))==null?null:o.touched)))),l(),d("ngIf",((u=t.form.get("voltage60kV"))==null?null:u.invalid)&&(((u=t.form.get("voltage60kV"))==null?null:u.dirty)||((u=t.form.get("voltage60kV"))==null?null:u.touched))),l(5),d("ngClass",y(12,D,((p=t.form.get("reactivePower"))==null?null:p.invalid)&&(((p=t.form.get("reactivePower"))==null?null:p.dirty)||((p=t.form.get("reactivePower"))==null?null:p.touched)))),l(),d("ngIf",((v=t.form.get("reactivePower"))==null?null:v.invalid)&&(((v=t.form.get("reactivePower"))==null?null:v.dirty)||((v=t.form.get("reactivePower"))==null?null:v.touched))),l(),d("ngIf",t.accessCellsRecordData.length>0),l(),d("ngIf",t.transformerRecords.length>0),l(7),d("isLoading",t.isLoading)}},dependencies:[Ge,Fe,Y,Ne,Z,ke,$e,qe,Le,Be,je,z,K,L,be,Me,G,U,H,$,ne],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{padding:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.5rem;color:#333}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:2px solid #ddd;font-size:1.25rem;color:#555;margin-top:20px;margin-bottom:20px;border:1px solid;width:max-content;padding:20px;border-radius:15px;background-color:#dee1de}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:4px}.btn[_ngcontent-%COMP%]{margin-top:20px}.highVlot[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #b3b1e4}.highVlot[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #007bff;padding:10px;border-radius:4px;transition:all .3s ease-in-out;margin-bottom:30px}.highVlot[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#0056b3}.validate[_ngcontent-%COMP%]{padding:10px;font-size:14;font-weight:700}.warning-class[_ngcontent-%COMP%]{border:1px solid red;background-color:#fcc}.error-message[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;color:#c43f3f;font-size:.8rem;margin-top:.5rem;display:block}.error-message.hidden[_ngcontent-%COMP%]{display:none}  .mat-mdc-form-field-subscript-wrapper{display:none!important}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}']});let n=r;return n})();var wi=[{path:"",component:Tt},{path:"create/:id",component:It}];export{wi as routes};
